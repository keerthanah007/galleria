{% include 'userheader.html'%}


<style>
    #products {
        transition: all .9s;

    }

    #products:hover {
        transition: all .9s;
        background-color: rgb(235, 235, 235);
        transform: scale(1.1);
    }
</style>
<center>
    <form method="post">

        <table>
            <tr>
                <td><input style="padding: 6px 5px;border-radius: 5px;margin-right: 10px;" type="date" name="daily">
                </td>
                <td><input style="padding: 6px 5px;border-radius: 5px;margin-right: 10px;" type="month" name="monthly">
                </td>
                <td><input class="btn btn-warning" type="submit" name="btn"></td>
            </tr>
        </table>

    </form>
</center>


<center>
    <h1> Sales</h1>

    <table class="table"
        style="width: 1200px;box-shadow: 2px 4px 6px lightgrey,-1px -2px 6px rgb(235, 235, 235);margin-top: 100px;">
        <tr>

            <th>Sl.no</th>
            <th>Item</th>
            <th>Item Name</th>
            <th>Earning</th>
            <th>Date</th>

        </tr>
        {% for row in data['artist'] %}
        <tr id="products" style="border-bottom: 1px solid lightgrey;">
            <td>{{ loop.index }}</td>
            <td><img src="/{{ row['item_image'] }}" width="100" height="100" alt=""></td>
            <td>{{ row['item_name'] }}</td>
            <td>{{ row['item_price'] }}</td>
            <td>{{ row['order_date'] }}</td>
        </tr>
        {% endfor %}
        </tr>
    </table>
    <p style="width: 150px" class="btn btn-info" href="print_artist" onclick="openPrintPurchase()"><b>Print Report</b></p>

    <script>
        function openPrintPurchase() {
            let tableState = document.querySelectorAll("tr");
            if (tableState.length > 0) {
                let start_date = document.querySelector("input[name='daily']").value;
                let end_date = document.querySelector("input[name='monthly']").value;
                if (start_date && end_date) {
                    window.location = `/print_artist?daily=${start_date}&monthly=${end_date}`;
                } else if (start_date) {
                    window.location = `/print_artist?daily=${start_date}&monthly=${end_date}`;
                } else if (end_date) {
                    window.location = `/print_artist?daily=${start_date}&monthly=${end_date}`;
                } else {
                    window.location = `/print_artist`;
                }
            }
        }
    </script>
</center>
